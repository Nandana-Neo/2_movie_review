<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />    
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="stylesheet" href="styles/main.css" />
  <title>My Movies</title>
</head>

<body  class="bg-[#5B8FB9] text-[#D7D7D7] font-serif ">
    <main class="flex flex-col">
      <div class="bg-[#03001C] w-full text-6xl font-extrabold flex flex-row justify-between px-12 border-y-10 border-[#03001C]">
        <div class="w-fit">
          Movies Watched
        </div>
        <button type="submit" form="add-review">
          <div class="rounded-full bg-[#5B8FB9] w-14 h-14 flex items-center justify-center border-4 border-[#D9D9D9] hover:cursor-pointer transition-transform hover:scale-110">
            <img class="w-fit" src="assets/icons/check-solid.svg" alt="+" />
          </div>
        </button>
      </div>
      <div class="px-8 my-15">
        <div class="w-full bg-[#03001C] p-5 rounded-md text-2xl flex flex-row w-full">
            <form 
            id="add-review" 
            <% if(locals.movie) { %>
              action ="/edit" 
            <% } else { %>
              action = "/add"
            <% } %>
            method = "post"
            class="flex flex-col gap-3 text-[#03001C] w-full min-h-screen my-3">
              <% if (locals.movie) { %>
                <input type="hidden" name="id" value="<%= movie.id %>"/>
              <% } %>
              <div class="rounded-md bg-[#D9D9D9] flex flex-row gap-2 p-2">
                <label for="title">Movie:</label>
                <input 
                  type="text" 
                  id="title" 
                  name="title" 
                  <% if(locals.movie) {%>
                    value="<%= movie.name%>"
                  <% } %>
                  placeholder="Enter the movie name" 
                  class="w-full rounded-md bg-[#03001C]/50 px-1 text-xl"
                />
                </div>
                <div  class="rounded-md bg-[#D9D9D9] flex flex-row gap-2 p-2">
                  <label for="date_watched">Date watched:</label>
                  <input 
                  type="date" 
                  id="date_watched" 
                  name="date_watched" 
                  <% if(locals.movie) {%>
                    value="<%= movie.date_watched%>"
                  <% } %>
                  class="rounded-md bg-[#03001C]/50 px-1 text-xl">
                </div>
                <div  class="rounded-md bg-[#D9D9D9] flex flex-row gap-2 p-2">
                  <label for="rating">Rating(1-5):</label>
                  <input 
                  type="number" 
                  id="rating" 
                  name="rating"  
                  <% if(locals.movie) {%>
                    value="<%= movie.rating%>"
                  <% } %>
                  min="1" 
                  max="5" 
                  class="w-full rounded-md bg-[#03001C]/50 px-1 text-xl" >
                </div>
                <div  class="rounded-md bg-[#D9D9D9] flex flex-row gap-2 p-2">
                  <label for="genre">Genre:</label>
                  <input 
                  type="text" 
                  id="genre" 
                  name="genre"  
                  <% if(locals.movie) {%>
                    value="<%= movie.genre%>"
                  <% } %>
                  placeholder="(eg: comedy, drama..)" 
                  class="w-full rounded-md bg-[#03001C]/50 px-1 text-xl" >
                </div>
                <div  class="rounded-md bg-[#D9D9D9] flex flex-row gap-2 p-2">
                  <label for="img">Enter image url:</label>
                  <input type="url" 
                  id="img" 
                  name="img"  
                  <% if(locals.movie) {%>
                    value="<%= movie.img%>"
                  <% } %>
                  class="w-full rounded-md bg-[#03001C]/50 px-1 text-xl">
                </div>
                <div class="flex flex-col gap-2 rounded-md bg-[#D9D9D9] p-2 flex-grow">
                  <label for="review">Enter Review:</label>
                  <textarea id="review" name="review" placeholder="Enter your review" class="h-full w-full rounded-md bg-[#03001C]/50 px-1 text-xl "><%= locals.movie?movie.review:"" %></textarea>
                </div>
            </form>
        </div>
      </div>
    </main> 
</body>
